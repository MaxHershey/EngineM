var Invader = (function () {
    function Invader(game, center) {
        this.game = game;
        this.center = center;
        this.width = 15;
        this.height = 15;
        this.speedX = 0.3;
        this.patrolX = 0;
    }
    Invader.prototype.update = function () {
        if (this.patrolX < 0 || this.patrolX > 40) {
            this.speedX = -this.speedX;
        }
        this.center.x += this.speedX;
        this.patrolX += this.speedX;
        if (Math.random() > 0.995 && !this.invadersBelow(this)) {
            var bullet = new Bullet({ x: this.center.x, y: this.center.y + this.width / 2 }, { x: Math.random() - 0.5, y: 2 });
            this.game.entities.push(bullet);
        }
    };
    Invader.prototype.draw = function () {
        // let the dubug mode draw us a rectangle.
    };
    Invader.prototype.invadersBelow = function (invader) {
        return this.game.entities.filter(function (b) {
            return b instanceof Invader &&
                b.center.y > invader.center.y &&
                b.center.x - invader.center.x < invader.width;
        }).length > 0;
    };
    return Invader;
})();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImludmFkZXIudHMiXSwibmFtZXMiOlsiSW52YWRlciIsIkludmFkZXIuY29uc3RydWN0b3IiLCJJbnZhZGVyLnVwZGF0ZSIsIkludmFkZXIuZHJhdyIsIkludmFkZXIuaW52YWRlcnNCZWxvdyJdLCJtYXBwaW5ncyI6IkFBQUE7SUFFSUEsaUJBQVlBLElBQWtCQSxFQUFFQSxNQUFzQkE7UUFDbERDLElBQUlBLENBQUNBLElBQUlBLEdBQUdBLElBQUlBLENBQUNBO1FBQ2pCQSxJQUFJQSxDQUFDQSxNQUFNQSxHQUFHQSxNQUFNQSxDQUFDQTtRQUNyQkEsSUFBSUEsQ0FBQ0EsS0FBS0EsR0FBR0EsRUFBRUEsQ0FBQ0E7UUFDaEJBLElBQUlBLENBQUNBLE1BQU1BLEdBQUdBLEVBQUVBLENBQUNBO1FBQ2pCQSxJQUFJQSxDQUFDQSxNQUFNQSxHQUFHQSxHQUFHQSxDQUFDQTtRQUNsQkEsSUFBSUEsQ0FBQ0EsT0FBT0EsR0FBR0EsQ0FBQ0EsQ0FBQ0E7SUFDckJBLENBQUNBO0lBU01ELHdCQUFNQSxHQUFiQTtRQUNJRSxFQUFFQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxPQUFPQSxHQUFHQSxDQUFDQSxJQUFJQSxJQUFJQSxDQUFDQSxPQUFPQSxHQUFHQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUNwQ0EsSUFBSUEsQ0FBQ0EsTUFBTUEsR0FBR0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsTUFBTUEsQ0FBQ0E7UUFDL0JBLENBQUNBO1FBRURBLElBQUlBLENBQUNBLE1BQU1BLENBQUNBLENBQUNBLElBQUlBLElBQUlBLENBQUNBLE1BQU1BLENBQUNBO1FBQzdCQSxJQUFJQSxDQUFDQSxPQUFPQSxJQUFJQSxJQUFJQSxDQUFDQSxNQUFNQSxDQUFDQTtRQUU1QkEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsTUFBTUEsRUFBRUEsR0FBR0EsS0FBS0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsYUFBYUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDckRBLElBQUlBLE1BQU1BLEdBQUdBLElBQUlBLE1BQU1BLENBQUNBLEVBQUVBLENBQUNBLEVBQUVBLElBQUlBLENBQUNBLE1BQU1BLENBQUNBLENBQUNBLEVBQUVBLENBQUNBLEVBQUVBLElBQUlBLENBQUNBLE1BQU1BLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLEtBQUtBLEdBQUdBLENBQUNBLEVBQUNBLEVBQUVBLEVBQUVBLENBQUNBLEVBQUVBLElBQUlBLENBQUNBLE1BQU1BLEVBQUVBLEdBQUdBLEdBQUdBLEVBQUVBLENBQUNBLEVBQUVBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBO1lBQ2xIQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxRQUFRQSxDQUFDQSxJQUFJQSxDQUFDQSxNQUFNQSxDQUFDQSxDQUFDQTtRQUNwQ0EsQ0FBQ0E7SUFDVEEsQ0FBQ0E7SUFFTUYsc0JBQUlBLEdBQVhBO1FBQ0lHLDBDQUEwQ0E7SUFDOUNBLENBQUNBO0lBRU9ILCtCQUFhQSxHQUFyQkEsVUFBc0JBLE9BQXdCQTtRQUMxQ0ksTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsVUFBU0EsQ0FBQ0E7WUFDbkMsTUFBTSxDQUFDLENBQUMsWUFBWSxPQUFPO2dCQUMzQixDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQzdCLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUM7UUFDbEQsQ0FBQyxDQUFDQSxDQUFDQSxNQUFNQSxHQUFHQSxDQUFDQSxDQUFDQTtJQUN0QkEsQ0FBQ0E7SUFDTEosY0FBQ0E7QUFBREEsQ0EzQ0EsQUEyQ0NBLElBQUEiLCJmaWxlIjoiaW52YWRlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImNsYXNzIEludmFkZXIgaW1wbGVtZW50cyBFbmdpbmVNLklFbnRpdHkge1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcihnYW1lOiBFbmdpbmVNLkdhbWUsIGNlbnRlcjogRW5naW5lTS5JUG9pbnQpIHtcclxuICAgICAgICB0aGlzLmdhbWUgPSBnYW1lO1xyXG4gICAgICAgIHRoaXMuY2VudGVyID0gY2VudGVyO1xyXG4gICAgICAgIHRoaXMud2lkdGggPSAxNTtcclxuICAgICAgICB0aGlzLmhlaWdodCA9IDE1O1xyXG4gICAgICAgIHRoaXMuc3BlZWRYID0gMC4zO1xyXG4gICAgICAgIHRoaXMucGF0cm9sWCA9IDA7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBnYW1lOiBFbmdpbmVNLkdhbWU7XHJcbiAgICBwdWJsaWMgY2VudGVyOiBFbmdpbmVNLklQb2ludDtcclxuICAgIHB1YmxpYyB3aWR0aDogbnVtYmVyO1xyXG4gICAgcHVibGljIGhlaWdodDogbnVtYmVyO1xyXG4gICAgcHVibGljIHBhdHJvbFg6IG51bWJlcjtcclxuICAgIHB1YmxpYyBzcGVlZFg6IG51bWJlcjtcclxuICAgIFxyXG4gICAgcHVibGljIHVwZGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5wYXRyb2xYIDwgMCB8fCB0aGlzLnBhdHJvbFggPiA0MCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zcGVlZFggPSAtdGhpcy5zcGVlZFg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMuY2VudGVyLnggKz0gdGhpcy5zcGVlZFg7XHJcbiAgICAgICAgICAgIHRoaXMucGF0cm9sWCArPSB0aGlzLnNwZWVkWDtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmIChNYXRoLnJhbmRvbSgpID4gMC45OTUgJiYgIXRoaXMuaW52YWRlcnNCZWxvdyh0aGlzKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGJ1bGxldCA9IG5ldyBCdWxsZXQoeyB4OiB0aGlzLmNlbnRlci54LCB5OiB0aGlzLmNlbnRlci55ICsgdGhpcy53aWR0aCAvIDJ9LCB7IHg6IE1hdGgucmFuZG9tKCkgLSAwLjUsIHk6IDIgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWUuZW50aXRpZXMucHVzaChidWxsZXQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBkcmF3KCk6IHZvaWQge1xyXG4gICAgICAgIC8vIGxldCB0aGUgZHVidWcgbW9kZSBkcmF3IHVzIGEgcmVjdGFuZ2xlLlxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwcml2YXRlIGludmFkZXJzQmVsb3coaW52YWRlcjogRW5naW5lTS5JRW50aXR5KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZS5lbnRpdGllcy5maWx0ZXIoZnVuY3Rpb24oYikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGIgaW5zdGFuY2VvZiBJbnZhZGVyICYmXHJcbiAgICAgICAgICAgICAgICBiLmNlbnRlci55ID4gaW52YWRlci5jZW50ZXIueSAmJlxyXG4gICAgICAgICAgICAgICAgYi5jZW50ZXIueCAtIGludmFkZXIuY2VudGVyLnggPCBpbnZhZGVyLndpZHRoO1xyXG4gICAgICAgICAgICB9KS5sZW5ndGggPiAwO1xyXG4gICAgfVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
