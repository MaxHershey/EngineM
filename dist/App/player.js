var Player = (function () {
    function Player(game) {
        this.isShooting = false;
        this.game = game;
        this.width = 15;
        this.height = 15;
        this.center = {
            x: this.game.size.x / 2,
            y: this.game.size.y - this.height
        };
        this.keyboard = new EngineM.Keyboard();
    }
    Player.prototype.update = function () {
        var _this = this;
        if (this.keyboard.isPressed(this.keyboard.KEYS.LEFT)) {
            this.center.x -= 2;
        }
        else if (this.keyboard.isPressed(this.keyboard.KEYS.RIGHT)) {
            this.center.x += 2;
        }
        if (this.keyboard.isPressed(this.keyboard.KEYS.SPACE) && !this.isShooting) {
            var bullet = new Bullet({ x: this.center.x, y: this.center.y - this.width / 2 }, { x: 0, y: -6 });
            this.isShooting = true;
            this.game.entities.push(bullet);
            // todo: fix sound loader.
            // this.game.sounds['audio/pew.wav']();
            setTimeout(function () {
                _this.isShooting = false;
            }, 1000);
        }
    };
    Player.prototype.draw = function () {
        // let the dubug mode draw us a rectangle.
    };
    return Player;
})();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBsYXllci50cyJdLCJuYW1lcyI6WyJQbGF5ZXIiLCJQbGF5ZXIuY29uc3RydWN0b3IiLCJQbGF5ZXIudXBkYXRlIiwiUGxheWVyLmRyYXciXSwibWFwcGluZ3MiOiJBQUFBO0lBRUlBLGdCQUFZQSxJQUFrQkE7UUFnQnZCQyxlQUFVQSxHQUFZQSxLQUFLQSxDQUFDQTtRQWYvQkEsSUFBSUEsQ0FBQ0EsSUFBSUEsR0FBR0EsSUFBSUEsQ0FBQ0E7UUFDakJBLElBQUlBLENBQUNBLEtBQUtBLEdBQUdBLEVBQUVBLENBQUNBO1FBQ2hCQSxJQUFJQSxDQUFDQSxNQUFNQSxHQUFHQSxFQUFFQSxDQUFDQTtRQUNqQkEsSUFBSUEsQ0FBQ0EsTUFBTUEsR0FBR0E7WUFDVkEsQ0FBQ0EsRUFBRUEsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0E7WUFDdkJBLENBQUNBLEVBQUVBLElBQUlBLENBQUNBLElBQUlBLENBQUNBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLE1BQU1BO1NBQ3BDQSxDQUFDQTtRQUNGQSxJQUFJQSxDQUFDQSxRQUFRQSxHQUFHQSxJQUFJQSxPQUFPQSxDQUFDQSxRQUFRQSxFQUFFQSxDQUFDQTtJQUMzQ0EsQ0FBQ0E7SUFTTUQsdUJBQU1BLEdBQWJBO1FBQUFFLGlCQW9CQ0E7UUFuQkdBLEVBQUVBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLFFBQVFBLENBQUNBLFNBQVNBLENBQUNBLElBQUlBLENBQUNBLFFBQVFBLENBQUNBLElBQUlBLENBQUNBLElBQUlBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO1lBQy9DQSxJQUFJQSxDQUFDQSxNQUFNQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQTtRQUN2QkEsQ0FBQ0E7UUFBQ0EsSUFBSUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDM0RBLElBQUlBLENBQUNBLE1BQU1BLENBQUNBLENBQUNBLElBQUlBLENBQUNBLENBQUNBO1FBQ3ZCQSxDQUFDQTtRQUVEQSxFQUFFQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxRQUFRQSxDQUFDQSxTQUFTQSxDQUFDQSxJQUFJQSxDQUFDQSxRQUFRQSxDQUFDQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxVQUFVQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUV4RUEsSUFBSUEsTUFBTUEsR0FBR0EsSUFBSUEsTUFBTUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsRUFBRUEsSUFBSUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsRUFBRUEsSUFBSUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsS0FBS0EsR0FBR0EsQ0FBQ0EsRUFBQ0EsRUFBRUEsRUFBRUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0E7WUFDakdBLElBQUlBLENBQUNBLFVBQVVBLEdBQUdBLElBQUlBLENBQUNBO1lBQ3ZCQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxRQUFRQSxDQUFDQSxJQUFJQSxDQUFDQSxNQUFNQSxDQUFDQSxDQUFDQTtZQUVoQ0EsMEJBQTBCQTtZQUMxQkEsdUNBQXVDQTtZQUV2Q0EsVUFBVUEsQ0FBQ0E7Z0JBQ1BBLEtBQUlBLENBQUNBLFVBQVVBLEdBQUdBLEtBQUtBLENBQUNBO1lBQzVCQSxDQUFDQSxFQUFFQSxJQUFJQSxDQUFDQSxDQUFDQTtRQUNiQSxDQUFDQTtJQUNUQSxDQUFDQTtJQUVNRixxQkFBSUEsR0FBWEE7UUFDSUcsMENBQTBDQTtJQUM5Q0EsQ0FBQ0E7SUFDTEgsYUFBQ0E7QUFBREEsQ0E3Q0EsQUE2Q0NBLElBQUEiLCJmaWxlIjoicGxheWVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgUGxheWVyIGltcGxlbWVudHMgRW5naW5lTS5JRW50aXR5IHtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3IoZ2FtZTogRW5naW5lTS5HYW1lKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lID0gZ2FtZTtcclxuICAgICAgICB0aGlzLndpZHRoID0gMTU7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSAxNTtcclxuICAgICAgICB0aGlzLmNlbnRlciA9IHtcclxuICAgICAgICAgICAgeDogdGhpcy5nYW1lLnNpemUueCAvIDIsXHJcbiAgICAgICAgICAgIHk6IHRoaXMuZ2FtZS5zaXplLnkgLSB0aGlzLmhlaWdodFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5rZXlib2FyZCA9IG5ldyBFbmdpbmVNLktleWJvYXJkKCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBnYW1lOiBFbmdpbmVNLkdhbWU7XHJcbiAgICBwdWJsaWMgY2VudGVyOiBFbmdpbmVNLklQb2ludDtcclxuICAgIHB1YmxpYyB3aWR0aDogbnVtYmVyO1xyXG4gICAgcHVibGljIGhlaWdodDogbnVtYmVyO1xyXG4gICAgcHVibGljIGtleWJvYXJkOiBFbmdpbmVNLklLZXlib2FyZDtcclxuICAgIHB1YmxpYyBpc1Nob290aW5nOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBcclxuICAgIHB1YmxpYyB1cGRhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMua2V5Ym9hcmQuaXNQcmVzc2VkKHRoaXMua2V5Ym9hcmQuS0VZUy5MRUZUKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jZW50ZXIueCAtPSAyO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMua2V5Ym9hcmQuaXNQcmVzc2VkKHRoaXMua2V5Ym9hcmQuS0VZUy5SSUdIVCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2VudGVyLnggKz0gMjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKHRoaXMua2V5Ym9hcmQuaXNQcmVzc2VkKHRoaXMua2V5Ym9hcmQuS0VZUy5TUEFDRSkgJiYgIXRoaXMuaXNTaG9vdGluZykge1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB2YXIgYnVsbGV0ID0gbmV3IEJ1bGxldCh7IHg6IHRoaXMuY2VudGVyLngsIHk6IHRoaXMuY2VudGVyLnkgLSB0aGlzLndpZHRoIC8gMn0sIHsgeDogMCwgeTogLTYgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzU2hvb3RpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lLmVudGl0aWVzLnB1c2goYnVsbGV0KTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gdG9kbzogZml4IHNvdW5kIGxvYWRlci5cclxuICAgICAgICAgICAgICAgIC8vIHRoaXMuZ2FtZS5zb3VuZHNbJ2F1ZGlvL3Bldy53YXYnXSgpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzU2hvb3RpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0sIDEwMDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBkcmF3KCk6IHZvaWQge1xyXG4gICAgICAgIC8vIGxldCB0aGUgZHVidWcgbW9kZSBkcmF3IHVzIGEgcmVjdGFuZ2xlLlxyXG4gICAgfVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
